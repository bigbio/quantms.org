"use strict";(self["webpackChunkquantms_org"]=self["webpackChunkquantms_org"]||[]).push([[621],{574:(e,a,t)=>{t(6422)},1554:(e,a,t)=>{t(6422)},2541:(e,a,t)=>{t(6422),t(574),t(5018),t(6280),t(9267)},2621:(e,a,t)=>{t.r(a),t.d(a,{default:()=>B});var l=t(8224),s=(t(6422),t(4205),t(641)),i=t(953),n=t(8548),o=t(3693),r=(t(1554),t(6091)),d=(t(2541),t(6735)),c=(t(9267),t(6280),t(9178)),u=t(9555),p=t(3840),v=(t(3834),t(574),t(4966)),k=t(5333),b=t(33),m=t(5056);const f=e=>{if(!e)return"Not specified";const a=new Date(e);return new Intl.DateTimeFormat("en-US",{year:"numeric",month:"long",day:"numeric"}).format(a)},h={class:"data-table-container"},g={class:"expanded-content"},w={key:0,class:"dataset-details"},y={class:"detail-title"},L={class:"detail-section"},_={class:"detail-section"},C={key:0,class:"publication-links"},E=["href"],F={key:1,class:"reference-details"},X={class:"detail-section"},I={key:0,class:"lab-info"},R={key:1,class:"lab-info"},W={key:0,class:"detail-section"},D={class:"keywords"},K={class:"detail-section metadata"},x={class:"d-flex align-center"},A={key:0},N={__name:"index",props:{modelValue:{type:Array,required:!0},page:{type:Number,default:1},limit:{type:Number,default:25}},setup(e){const a=(0,i.KR)(0),t=(0,i.KR)(0),l=(0,i.KR)(1),n=(0,i.KR)([]),N={backgroundColor:"white",color:"#000",fontSize:"16px",fontWeight:"600"},P={fontSize:"14px"},S=e;(0,s.sV)((()=>{})),(0,s.wB)((()=>S.modelValue),(e=>{e&&e.length>0?(a.value=Math.max(...e.map((e=>e.peptides))),t.value=Math.max(...e.map((e=>e.proteins))),n.value=[...e]):n.value=[]}),{immediate:!0});const V=(0,s.EW)((()=>S.modelValue?.length||0)),z=(0,s.EW)((()=>{const e=(l.value-1)*S.limit,a=l.value*S.limit;return n.value.slice(e,a)})),Q=(0,i.KR)({}),j=(0,i.KR)(!1),q=async(e,a)=>{if(a.length>0&&!Q.value[e.accession.id]){j.value=!0;try{let a;if(e.accession.id.startsWith("PXD")){const t=await(0,m.NO)(e.accession.id);a={title:t.data.title,description:t.data.projectDescription,labPIs:t.data.labPIs,submitters:t.data.submitters,keywords:t.data.keywords,references:t.data.references,submissionDate:t.data.submissionDate,publicationDate:t.data.publicationDate,doi:t.data.doi}}else{const t=await(0,m.Rd)(e.accession.id);a={title:t.data.title,description:t.data.description,labHead:t.data.principal_investigator,submitter:t.data.submitter}}Q.value[e.accession.id]=a}catch(t){console.error("Error fetching dataset details:",t)}finally{j.value=!1}}},O=e=>{l.value=e},M=({prop:e,order:a})=>{const t="ascending"===a?1:-1;n.value.sort(((a,l)=>{const s=a[e],i=l[e];return s<i?-1*t:s>i?1*t:0}))},U=(e,a)=>a?100*e/a:0;return(l,n)=>{const m=k.u,S=v.x0,$=d.o8,B=p.C4,H=u.ve,T=c.R7,G=d.Up,J=r.aQ,Y=o.A;return(0,s.uX)(),(0,s.CE)("div",h,[(0,s.bF)(G,{data:z.value,onSortChange:M,border:"",stripe:"","header-cell-style":N,"cell-style":P,height:"800",class:"data-table",onExpandChange:q},{default:(0,s.k6)((()=>[(0,s.bF)($,{type:"expand"},{default:(0,s.k6)((e=>[(0,s.bo)(((0,s.uX)(),(0,s.CE)("div",g,[Q.value[e.row.accession.id]?((0,s.uX)(),(0,s.CE)("div",w,[(0,s.Lk)("h3",y,(0,b.v_)(Q.value[e.row.accession.id].title),1),(0,s.Lk)("div",L,[n[0]||(n[0]=(0,s.Lk)("h4",null,"Abstract",-1)),(0,s.Lk)("p",null,(0,b.v_)(Q.value[e.row.accession.id].description),1)]),(0,s.Lk)("div",_,[n[1]||(n[1]=(0,s.Lk)("h4",null,"Publication",-1)),e.row.title.pubmedId?((0,s.uX)(),(0,s.CE)("div",C,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(e.row.title.pubmedId,(e=>((0,s.uX)(),(0,s.CE)("a",{key:e.id,href:e.path,target:"_blank",class:"publication-link"}," PubMed ID: "+(0,b.v_)(e.id),9,E)))),128))])):(0,s.Q3)("",!0),Q.value[e.row.accession.id].references?((0,s.uX)(),(0,s.CE)("div",F,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(Q.value[e.row.accession.id].references,(e=>((0,s.uX)(),(0,s.CE)("p",{key:e.pubmedID,class:"reference-text"},(0,b.v_)(e.referenceLine),1)))),128))])):(0,s.Q3)("",!0)]),(0,s.Lk)("div",X,[n[14]||(n[14]=(0,s.Lk)("h4",null,"Lab Information",-1)),Q.value[e.row.accession.id].labPIs?.length?((0,s.uX)(),(0,s.CE)("div",I,[n[7]||(n[7]=(0,s.Lk)("h5",null,"Principal Investigators:",-1)),((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(Q.value[e.row.accession.id].labPIs,(e=>((0,s.uX)(),(0,s.CE)("div",{key:e.id,class:"person-info"},[(0,s.Lk)("p",null,[n[2]||(n[2]=(0,s.Lk)("strong",null,"Name:",-1)),(0,s.eW)(" "+(0,b.v_)(e.title)+" "+(0,b.v_)(e.firstName)+" "+(0,b.v_)(e.lastName),1),n[3]||(n[3]=(0,s.Lk)("br",null,null,-1)),n[4]||(n[4]=(0,s.Lk)("strong",null,"Affiliation:",-1)),(0,s.eW)(" "+(0,b.v_)(e.affiliation),1),n[5]||(n[5]=(0,s.Lk)("br",null,null,-1)),n[6]||(n[6]=(0,s.Lk)("strong",null,"ORCID:",-1)),(0,s.eW)(" "+(0,b.v_)(e.orcid||"Not specified"),1)])])))),128))])):(0,s.Q3)("",!0),Q.value[e.row.accession.id].submitters?.length?((0,s.uX)(),(0,s.CE)("div",R,[n[13]||(n[13]=(0,s.Lk)("h5",null,"Submitters:",-1)),((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(Q.value[e.row.accession.id].submitters,(e=>((0,s.uX)(),(0,s.CE)("div",{key:e.id,class:"person-info"},[(0,s.Lk)("p",null,[n[8]||(n[8]=(0,s.Lk)("strong",null,"Name:",-1)),(0,s.eW)(" "+(0,b.v_)(e.title)+" "+(0,b.v_)(e.firstName)+" "+(0,b.v_)(e.lastName),1),n[9]||(n[9]=(0,s.Lk)("br",null,null,-1)),n[10]||(n[10]=(0,s.Lk)("strong",null,"Affiliation:",-1)),(0,s.eW)(" "+(0,b.v_)(e.affiliation),1),n[11]||(n[11]=(0,s.Lk)("br",null,null,-1)),n[12]||(n[12]=(0,s.Lk)("strong",null,"ORCID:",-1)),(0,s.eW)(" "+(0,b.v_)(e.orcid||"Not specified"),1)])])))),128))])):(0,s.Q3)("",!0)]),Q.value[e.row.accession.id].keywords?.length?((0,s.uX)(),(0,s.CE)("div",W,[n[15]||(n[15]=(0,s.Lk)("h4",null,"Keywords",-1)),(0,s.Lk)("div",D,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(Q.value[e.row.accession.id].keywords,(e=>((0,s.uX)(),(0,s.Wv)(m,{key:e,class:"keyword-tag",size:"small"},{default:(0,s.k6)((()=>[(0,s.eW)((0,b.v_)(e),1)])),_:2},1024)))),128))])])):(0,s.Q3)("",!0),(0,s.Lk)("div",K,[n[21]||(n[21]=(0,s.Lk)("h4",null,"Additional Information",-1)),(0,s.Lk)("p",null,[n[16]||(n[16]=(0,s.Lk)("strong",null,"Submission Date:",-1)),(0,s.eW)(" "+(0,b.v_)((0,i.R1)(f)(Q.value[e.row.accession.id].submissionDate)),1),n[17]||(n[17]=(0,s.Lk)("br",null,null,-1)),n[18]||(n[18]=(0,s.Lk)("strong",null,"Publication Date:",-1)),(0,s.eW)(" "+(0,b.v_)((0,i.R1)(f)(Q.value[e.row.accession.id].publicationDate)),1),n[19]||(n[19]=(0,s.Lk)("br",null,null,-1)),n[20]||(n[20]=(0,s.Lk)("strong",null,"DOI:",-1)),(0,s.eW)(" "+(0,b.v_)(Q.value[e.row.accession.id].doi||"Not specified"),1)])])])):((0,s.uX)(),(0,s.Wv)(S,{key:1,description:"No additional details available"}))])),[[Y,j.value]])])),_:1}),(0,s.bF)($,{label:"Accession",width:"110"},{default:(0,s.k6)((e=>[(0,s.Lk)("div",x,[(0,s.bF)(B,{href:e.row.accession.path,type:"primary",class:"accession-link"},{default:(0,s.k6)((()=>[(0,s.eW)((0,b.v_)(e.row.accession.id),1)])),_:2},1032,["href"])])])),_:1}),(0,s.bF)($,{prop:"category",label:"Category",width:"180"}),(0,s.bF)($,{prop:"samples",label:"Samples",width:"120",sortable:"custom"}),(0,s.bF)($,{prop:"msruns",label:"Msruns",width:"120",sortable:"custom"}),(0,s.bF)($,{prop:"peptides",label:"Peptides","min-width":"100",sortable:"custom"},{default:(0,s.k6)((e=>[(0,s.bF)(T,{effect:"light",content:e.row.peptides.toString(),offset:-50,placement:"right-start"},{default:(0,s.k6)((()=>[(0,s.bF)(H,{percentage:U(e.row.peptides,a.value),"stroke-width":12,"show-text":!1,class:"data-progress"},null,8,["percentage"])])),_:2},1032,["content"])])),_:1}),(0,s.bF)($,{prop:"proteins",label:"Proteins","min-width":"100",sortable:"custom"},{default:(0,s.k6)((e=>[(0,s.bF)(T,{effect:"light",content:e.row.proteins.toString(),offset:-50,placement:"right-start"},{default:(0,s.k6)((()=>[(0,s.bF)(H,{percentage:U(e.row.proteins,t.value),"stroke-width":12,"show-text":!1,class:"data-progress"},null,8,["percentage"])])),_:2},1032,["content"])])),_:1}),(0,s.bF)($,{label:"Reanalysis","min-width":"140"},{default:(0,s.k6)((e=>[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(e.row.reanalysis,(e=>((0,s.uX)(),(0,s.CE)("div",{key:e.id,class:"reanalysis-item"},[1===e.id?((0,s.uX)(),(0,s.CE)("div",A,[(0,s.bF)(B,{href:e.path,type:"primary",class:"reanalysis-link"},{default:(0,s.k6)((()=>[(0,s.eW)((0,b.v_)(e.title),1)])),_:2},1032,["href"])])):(0,s.Q3)("",!0)])))),128))])),_:1})])),_:1},8,["data"]),(0,s.bF)(J,{class:"table-pagination",layout:"pager,total",background:"","page-size":e.limit,total:V.value,onCurrentChange:O},null,8,["page-size","total"])])}}};var P=t(6262);const S=(0,P.A)(N,[["__scopeId","data-v-1c3703d4"]]),V=S,z={class:"datasets-page"},Q={class:"datasets-section"},j={class:"card container"},q={class:"datasets-header"},O={class:"search-container"},M={class:"datasets-table"},U={__name:"index",setup(e){const a=(0,i.KR)([]),t=(0,i.KR)([]),o=(0,i.KR)([]),r=(0,i.KR)([]),d=async()=>{const e=await(0,m.uh)();a.value=e.data;const l=await(0,m.sd)();t.value=l.data;const s=await(0,m.Fq)();o.value=s.data,r.value=[...e.data,...l.data,...s.data]},c=(0,i.KR)(""),u=(0,s.EW)((()=>r.value.filter((e=>!c.value||e.accession.id.toLowerCase().includes(c.value.toLowerCase())||e.category.toLowerCase().includes(c.value.toLowerCase())))));return(0,s.sV)((()=>{d()})),(e,a)=>{const t=l.WK;return(0,s.uX)(),(0,s.CE)("div",z,[(0,s.Lk)("section",Q,[a[2]||(a[2]=(0,s.Lk)("h1",{class:"section-title"},"Datasets Reanalyzed",-1)),(0,s.Lk)("div",j,[(0,s.Lk)("div",q,[(0,s.Lk)("div",O,[(0,s.bF)(t,{modelValue:c.value,"onUpdate:modelValue":a[0]||(a[0]=e=>c.value=e),size:"large",placeholder:"Search by Accession or Category","suffix-icon":(0,i.R1)(n.Search),class:"search-input"},null,8,["modelValue","suffix-icon"])])]),(0,s.Lk)("div",M,[(0,s.bF)(V,{modelValue:u.value,"onUpdate:modelValue":a[1]||(a[1]=e=>r.value=e)},null,8,["modelValue"])])])])])}}},$=(0,P.A)(U,[["__scopeId","data-v-21e343af"]]),B=$},3834:(e,a,t)=>{t(6422)},4205:(e,a,t)=>{t(6422)},5018:(e,a,t)=>{t(6422)},5056:(e,a,t)=>{t.d(a,{Fq:()=>n,NO:()=>o,Rd:()=>r,sd:()=>i,uh:()=>s});var l=t(9263);const s=()=>(0,l.A)({url:"/data/AE.json",method:"get"}),i=()=>(0,l.A)({url:"/data/DE.json",method:"get"}),n=()=>(0,l.A)({url:"/data/single_cell.json",method:"get"}),o=e=>(0,l.A)({url:`https://www.ebi.ac.uk/pride/ws/archive/v3/projects/${e}`,method:"get"}),r=e=>(0,l.A)({url:`http://proteomecentral.proteomexchange.org/api/dataset/${e}`,method:"get"})},6280:(e,a,t)=>{t(6422)},9267:(e,a,t)=>{t(6422)}}]);
//# sourceMappingURL=621.9e01d8f8.js.map