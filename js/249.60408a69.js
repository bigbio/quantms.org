"use strict";(self["webpackChunkquantms_org"]=self["webpackChunkquantms_org"]||[]).push([[249],{1739:(e,t,a)=>{a(6422)},3698:(e,t,a)=>{a.d(t,{$g:()=>h});var l=a(641),o=a(953),n=a(33),s=a(819),i=a(8472);const r=(0,s.b_)({type:{type:String,values:["primary","success","info","warning","danger",""],default:""},size:{type:String,values:i.I,default:""},truncated:Boolean,lineClamp:{type:[String,Number]},tag:{type:String,default:"span"}});var u=a(8396),d=a(9510),c=a(5980),v=a(2154);const p=(0,l.pM)({name:"ElText"}),f=(0,l.pM)({...p,props:r,setup(e){const t=e,a=(0,o.KR)(),s=(0,d.NV)(),i=(0,c.DU)("text"),r=(0,l.EW)((()=>[i.b(),i.m(t.type),i.m(s.value),i.is("truncated",t.truncated),i.is("line-clamp",!(0,v.b0)(t.lineClamp))])),u=(0,l.OA)().title,p=()=>{var e,l,o,n,s,i,r;if(u)return;let d=!1;const c=(null==(e=a.value)?void 0:e.textContent)||"";if(t.truncated){const e=null==(l=a.value)?void 0:l.offsetWidth,t=null==(o=a.value)?void 0:o.scrollWidth;e&&t&&t>e&&(d=!0)}else if(!(0,v.b0)(t.lineClamp)){const e=null==(n=a.value)?void 0:n.offsetHeight,t=null==(s=a.value)?void 0:s.scrollHeight;e&&t&&t>e&&(d=!0)}d?null==(i=a.value)||i.setAttribute("title",c):null==(r=a.value)||r.removeAttribute("title")};return(0,l.sV)(p),(0,l.$u)(p),(e,t)=>((0,l.uX)(),(0,l.Wv)((0,l.$y)(e.tag),{ref_key:"textRef",ref:a,class:(0,n.C4)((0,o.R1)(r)),style:(0,n.Tr)({"-webkit-line-clamp":e.lineClamp})},{default:(0,l.k6)((()=>[(0,l.RG)(e.$slots,"default")])),_:3},8,["class","style"]))}});var m=(0,u.A)(f,[["__file","text.vue"]]),y=a(4769);const h=(0,y.GU)(m)},7289:(e,t,a)=>{a.r(t),a.d(t,{default:()=>Ie});var l=a(641),o=a(953),n=a(3751),s=a(33),i=a(8548);const r=e=>{if(!e)return{onClick:s.tE,onMousedown:s.tE,onMouseup:s.tE};let t=!1,a=!1;const l=l=>{t&&a&&e(l),t=a=!1},o=e=>{t=e.target===e.currentTarget},n=e=>{a=e.target===e.currentTarget};return{onClick:l,onMousedown:o,onMouseup:n}};var u=a(1338),d=a(819),c=a(5980);const v=(0,d.b_)({mask:{type:Boolean,default:!0},customMaskEvent:Boolean,overlayClass:{type:(0,d.jq)([String,Array,Object])},zIndex:{type:(0,d.jq)([String,Number])}}),p={click:e=>e instanceof MouseEvent},f="overlay";var m=(0,l.pM)({name:"ElOverlay",props:v,emits:p,setup(e,{slots:t,emit:a}){const o=(0,c.DU)(f),n=e=>{a("click",e)},{onClick:s,onMousedown:i,onMouseup:d}=r(e.customMaskEvent?void 0:n);return()=>e.mask?(0,l.bF)("div",{class:[o.b(),e.overlayClass],style:{zIndex:e.zIndex},onClick:s,onMousedown:i,onMouseup:d},[(0,l.RG)(t,"default")],u.Yn.STYLE|u.Yn.CLASS|u.Yn.PROPS,["onClick","onMouseup","onMousedown"]):(0,l.h)("div",{class:e.overlayClass,style:{zIndex:e.zIndex,position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"}},[(0,l.RG)(t,"default")])}});const y=m;var h=a(5378),g=a(7407),b=a(1361),R=a(5343);const C=(0,d.b_)({center:Boolean,alignCenter:Boolean,closeIcon:{type:R.Ze},draggable:Boolean,overflow:Boolean,fullscreen:Boolean,headerClass:String,bodyClass:String,footerClass:String,showClose:{type:Boolean,default:!0},title:{type:String,default:""},ariaLevel:{type:String,default:"2"}});var k=a(2388),x=a(1069),w=a(2154);const E=(0,d.b_)({...C,appendToBody:Boolean,appendTo:{type:k.k.to.type,default:"body"},beforeClose:{type:(0,d.jq)(Function)},destroyOnClose:Boolean,closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0},modal:{type:Boolean,default:!0},openDelay:{type:Number,default:0},closeDelay:{type:Number,default:0},top:{type:String},modelValue:Boolean,modalClass:String,headerClass:String,bodyClass:String,footerClass:String,width:{type:[String,Number]},zIndex:{type:Number},trapFocus:Boolean,headerAriaLevel:{type:String,default:"2"}}),A={open:()=>!0,opened:()=>!0,close:()=>!0,closed:()=>!0,[x.l4]:e=>(0,w.Lm)(e),openAutoFocus:()=>!0,closeAutoFocus:()=>!0},F=(0,d.b_)({...E,direction:{type:String,default:"rtl",values:["ltr","rtl","ttb","btt"]},size:{type:[String,Number],default:"30%"},withHeader:{type:Boolean,default:!0},modalFade:{type:Boolean,default:!0},headerAriaLevel:{type:String,default:"2"}}),I=A;var L=a(8396),_=a(2307),S=a(9592),B=a(1651),V=a(6031),T=a(1027);const W=(e,t={})=>{(0,o.i9)(e)||(0,B.$)("[useLockscreen]","You need to pass a ref param to this function");const a=t.ns||(0,c.DU)("popup"),n=(0,l.EW)((()=>a.bm("parent","hidden")));if(!_.oc||(0,V.nB)(document.body,n.value))return;let s=0,i=!1,r="0";const u=()=>{setTimeout((()=>{"undefined"!==typeof document&&i&&document&&(document.body.style.width=r,(0,V.vy)(document.body,n.value))}),200)};(0,l.wB)(e,(e=>{if(!e)return void u();i=!(0,V.nB)(document.body,n.value),i&&(r=document.body.style.width,(0,V.iQ)(document.body,n.value)),s=(0,T.F_)(a.namespace.value);const t=document.documentElement.clientHeight<document.body.scrollHeight,l=(0,V.gd)(document.body,"overflowY");s>0&&(t||"scroll"===l)&&i&&(document.body.style.width=`calc(100% - ${s}px)`)})),(0,o.jr)((()=>u()))};var $=a(4656),D=a(7010),X=a(2974);const K=(e,t)=>{var a;const n=(0,l.nI)(),s=n.emit,{nextZIndex:i}=(0,$.YK)();let r="";const u=(0,D.Bi)(),d=(0,D.Bi)(),v=(0,o.KR)(!1),p=(0,o.KR)(!1),f=(0,o.KR)(!1),m=(0,o.KR)(null!=(a=e.zIndex)?a:i());let y,h;const g=(0,X.H3)("namespace",c.Lt),b=(0,l.EW)((()=>{const t={},a=`--${g.value}-dialog`;return e.fullscreen||(e.top&&(t[`${a}-margin-top`]=e.top),e.width&&(t[`${a}-width`]=(0,V._V)(e.width))),t})),R=(0,l.EW)((()=>e.alignCenter?{display:"flex"}:{}));function C(){s("opened")}function k(){s("closed"),s(x.l4,!1),e.destroyOnClose&&(f.value=!1)}function w(){s("close")}function E(){null==h||h(),null==y||y(),e.openDelay&&e.openDelay>0?({stop:y}=(0,_.TO)((()=>L()),e.openDelay)):L()}function A(){null==y||y(),null==h||h(),e.closeDelay&&e.closeDelay>0?({stop:h}=(0,_.TO)((()=>B()),e.closeDelay)):B()}function F(){function t(e){e||(p.value=!0,v.value=!1)}e.beforeClose?e.beforeClose(t):A()}function I(){e.closeOnClickModal&&F()}function L(){_.oc&&(v.value=!0)}function B(){v.value=!1}function T(){s("openAutoFocus")}function K(){s("closeAutoFocus")}function z(e){var t;"pointer"===(null==(t=e.detail)?void 0:t.focusReason)&&e.preventDefault()}function M(){e.closeOnPressEscape&&F()}return e.lockScroll&&W(v),(0,l.wB)((()=>e.modelValue),(a=>{a?(p.value=!1,E(),f.value=!0,m.value=(0,S.A)(e.zIndex)?i():m.value++,(0,l.dY)((()=>{s("open"),t.value&&(t.value.parentElement.scrollTop=0,t.value.parentElement.scrollLeft=0,t.value.scrollTop=0)}))):v.value&&A()})),(0,l.wB)((()=>e.fullscreen),(e=>{t.value&&(e?(r=t.value.style.transform,t.value.style.transform=""):t.value.style.transform=r)})),(0,l.sV)((()=>{e.modelValue&&(v.value=!0,f.value=!0,E())})),{afterEnter:C,afterLeave:k,beforeLeave:w,handleClose:F,onModalClick:I,close:A,doClose:B,onOpenAutoFocus:T,onCloseAutoFocus:K,onCloseRequested:M,onFocusoutPrevented:z,titleId:u,bodyId:d,closed:p,style:b,overlayDialogStyle:R,rendered:f,visible:v,zIndex:m}};var z=a(9766),M=a(7404);const q=(0,l.pM)({name:"ElDrawer",inheritAttrs:!1}),N=(0,l.pM)({...q,props:F,emits:I,setup(e,{expose:t}){const a=e,r=(0,l.Ht)();(0,z.b)({scope:"el-drawer",from:"the title slot",replacement:"the header slot",version:"3.0.0",ref:"https://element-plus.org/en-US/component/drawer.html#slots"},(0,l.EW)((()=>!!r.title)));const u=(0,o.KR)(),d=(0,o.KR)(),v=(0,c.DU)("drawer"),{t:p}=(0,M.Ym)(),{afterEnter:f,afterLeave:m,beforeLeave:R,visible:C,rendered:k,titleId:x,bodyId:w,zIndex:E,onModalClick:A,onOpenAutoFocus:F,onCloseAutoFocus:I,onFocusoutPrevented:L,onCloseRequested:_,handleClose:S}=K(a,u),B=(0,l.EW)((()=>"rtl"===a.direction||"ltr"===a.direction)),T=(0,l.EW)((()=>(0,V._V)(a.size)));return t({handleClose:S,afterEnter:f,afterLeave:m}),(e,t)=>((0,l.uX)(),(0,l.Wv)((0,o.R1)(g.Nr),{to:e.appendTo,disabled:"body"===e.appendTo&&!e.appendToBody},{default:(0,l.k6)((()=>[(0,l.bF)(n.eB,{name:(0,o.R1)(v).b("fade"),onAfterEnter:(0,o.R1)(f),onAfterLeave:(0,o.R1)(m),onBeforeLeave:(0,o.R1)(R),persisted:""},{default:(0,l.k6)((()=>[(0,l.bo)((0,l.bF)((0,o.R1)(y),{mask:e.modal,"overlay-class":e.modalClass,"z-index":(0,o.R1)(E),onClick:(0,o.R1)(A)},{default:(0,l.k6)((()=>[(0,l.bF)((0,o.R1)(h.A),{loop:"",trapped:(0,o.R1)(C),"focus-trap-el":u.value,"focus-start-el":d.value,onFocusAfterTrapped:(0,o.R1)(F),onFocusAfterReleased:(0,o.R1)(I),onFocusoutPrevented:(0,o.R1)(L),onReleaseRequested:(0,o.R1)(_)},{default:(0,l.k6)((()=>[(0,l.Lk)("div",(0,l.v6)({ref_key:"drawerRef",ref:u,"aria-modal":"true","aria-label":e.title||void 0,"aria-labelledby":e.title?void 0:(0,o.R1)(x),"aria-describedby":(0,o.R1)(w)},e.$attrs,{class:[(0,o.R1)(v).b(),e.direction,(0,o.R1)(C)&&"open"],style:(0,o.R1)(B)?"width: "+(0,o.R1)(T):"height: "+(0,o.R1)(T),role:"dialog",onClick:(0,n.D$)((()=>{}),["stop"])}),[(0,l.Lk)("span",{ref_key:"focusStartRef",ref:d,class:(0,s.C4)((0,o.R1)(v).e("sr-focus")),tabindex:"-1"},null,2),e.withHeader?((0,l.uX)(),(0,l.CE)("header",{key:0,class:(0,s.C4)([(0,o.R1)(v).e("header"),e.headerClass])},[e.$slots.title?(0,l.RG)(e.$slots,"title",{key:1},(()=>[(0,l.Q3)(" DEPRECATED SLOT ")])):(0,l.RG)(e.$slots,"header",{key:0,close:(0,o.R1)(S),titleId:(0,o.R1)(x),titleClass:(0,o.R1)(v).e("title")},(()=>[e.$slots.title?(0,l.Q3)("v-if",!0):((0,l.uX)(),(0,l.CE)("span",{key:0,id:(0,o.R1)(x),role:"heading","aria-level":e.headerAriaLevel,class:(0,s.C4)((0,o.R1)(v).e("title"))},(0,s.v_)(e.title),11,["id","aria-level"]))])),e.showClose?((0,l.uX)(),(0,l.CE)("button",{key:2,"aria-label":(0,o.R1)(p)("el.drawer.close"),class:(0,s.C4)((0,o.R1)(v).e("close-btn")),type:"button",onClick:(0,o.R1)(S)},[(0,l.bF)((0,o.R1)(b.tk),{class:(0,s.C4)((0,o.R1)(v).e("close"))},{default:(0,l.k6)((()=>[(0,l.bF)((0,o.R1)(i.Close))])),_:1},8,["class"])],10,["aria-label","onClick"])):(0,l.Q3)("v-if",!0)],2)):(0,l.Q3)("v-if",!0),(0,o.R1)(k)?((0,l.uX)(),(0,l.CE)("div",{key:1,id:(0,o.R1)(w),class:(0,s.C4)([(0,o.R1)(v).e("body"),e.bodyClass])},[(0,l.RG)(e.$slots,"default")],10,["id"])):(0,l.Q3)("v-if",!0),e.$slots.footer?((0,l.uX)(),(0,l.CE)("div",{key:2,class:(0,s.C4)([(0,o.R1)(v).e("footer"),e.footerClass])},[(0,l.RG)(e.$slots,"footer")],2)):(0,l.Q3)("v-if",!0)],16,["aria-label","aria-labelledby","aria-describedby","onClick"])])),_:3},8,["trapped","focus-trap-el","focus-start-el","onFocusAfterTrapped","onFocusAfterReleased","onFocusoutPrevented","onReleaseRequested"])])),_:3},8,["mask","overlay-class","z-index","onClick"]),[[n.aG,(0,o.R1)(C)]])])),_:3},8,["name","onAfterEnter","onAfterLeave","onBeforeLeave"])])),_:3},8,["to","disabled"]))}});var O=(0,L.A)(N,[["__file","drawer.vue"]]),Q=a(4769);const U=(0,Q.GU)(O);a(6422);var G=a(3624),P=(a(8746),a(3698)),Y=(a(1739),a(5333)),j=(a(574),a(8472));const H=e=>["",...j.I].includes(e);var Z=a(22);const J=(0,d.b_)({modelValue:{type:[Boolean,String,Number],default:!1},disabled:Boolean,loading:Boolean,size:{type:String,validator:H},width:{type:[String,Number],default:""},inlinePrompt:Boolean,inactiveActionIcon:{type:R.Ze},activeActionIcon:{type:R.Ze},activeIcon:{type:R.Ze},inactiveIcon:{type:R.Ze},activeText:{type:String,default:""},inactiveText:{type:String,default:""},activeValue:{type:[Boolean,String,Number],default:!0},inactiveValue:{type:[Boolean,String,Number],default:!1},name:{type:String,default:""},validateEvent:{type:Boolean,default:!0},beforeChange:{type:(0,d.jq)(Function)},id:String,tabindex:{type:[String,Number]},...(0,Z.l)(["ariaLabel"])}),ee={[x.l4]:e=>(0,w.Lm)(e)||(0,s.Kg)(e)||(0,w.Et)(e),[x.YU]:e=>(0,w.Lm)(e)||(0,s.Kg)(e)||(0,w.Et)(e),[x.qs]:e=>(0,w.Lm)(e)||(0,s.Kg)(e)||(0,w.Et)(e)};var te=a(9357),ae=a(9510);const le="ElSwitch",oe=(0,l.pM)({name:le}),ne=(0,l.pM)({...oe,props:J,emits:ee,setup(e,{expose:t,emit:a}){const r=e,{formItem:u}=(0,te.j)(),d=(0,ae.NV)(),v=(0,c.DU)("switch"),{inputId:p}=(0,te.W)(r,{formItemContext:u}),f=(0,ae.CB)((0,l.EW)((()=>r.loading))),m=(0,o.KR)(!1!==r.modelValue),y=(0,o.KR)(),h=(0,o.KR)(),g=(0,l.EW)((()=>[v.b(),v.m(d.value),v.is("disabled",f.value),v.is("checked",A.value)])),R=(0,l.EW)((()=>[v.e("label"),v.em("label","left"),v.is("active",!A.value)])),C=(0,l.EW)((()=>[v.e("label"),v.em("label","right"),v.is("active",A.value)])),k=(0,l.EW)((()=>({width:(0,V._V)(r.width)})));(0,l.wB)((()=>r.modelValue),(()=>{m.value=!0}));const E=(0,l.EW)((()=>!!m.value&&r.modelValue)),A=(0,l.EW)((()=>E.value===r.activeValue));[r.activeValue,r.inactiveValue].includes(E.value)||(a(x.l4,r.inactiveValue),a(x.YU,r.inactiveValue),a(x.qs,r.inactiveValue)),(0,l.wB)(A,(e=>{var t;y.value.checked=e,r.validateEvent&&(null==(t=null==u?void 0:u.validate)||t.call(u,"change").catch((e=>(0,B.U)(e))))}));const F=()=>{const e=A.value?r.inactiveValue:r.activeValue;a(x.l4,e),a(x.YU,e),a(x.qs,e),(0,l.dY)((()=>{y.value.checked=A.value}))},I=()=>{if(f.value)return;const{beforeChange:e}=r;if(!e)return void F();const t=e(),a=[(0,s.yL)(t),(0,w.Lm)(t)].includes(!0);a||(0,B.$)(le,"beforeChange must return type `Promise<boolean>` or `boolean`"),(0,s.yL)(t)?t.then((e=>{e&&F()})).catch((e=>{(0,B.U)(le,`some error occurred: ${e}`)})):t&&F()},L=()=>{var e,t;null==(t=null==(e=y.value)?void 0:e.focus)||t.call(e)};return(0,l.sV)((()=>{y.value.checked=A.value})),t({focus:L,checked:A}),(e,t)=>((0,l.uX)(),(0,l.CE)("div",{class:(0,s.C4)((0,o.R1)(g)),onClick:(0,n.D$)(I,["prevent"])},[(0,l.Lk)("input",{id:(0,o.R1)(p),ref_key:"input",ref:y,class:(0,s.C4)((0,o.R1)(v).e("input")),type:"checkbox",role:"switch","aria-checked":(0,o.R1)(A),"aria-disabled":(0,o.R1)(f),"aria-label":e.ariaLabel,name:e.name,"true-value":e.activeValue,"false-value":e.inactiveValue,disabled:(0,o.R1)(f),tabindex:e.tabindex,onChange:F,onKeydown:(0,n.jR)(I,["enter"])},null,42,["id","aria-checked","aria-disabled","aria-label","name","true-value","false-value","disabled","tabindex","onKeydown"]),e.inlinePrompt||!e.inactiveIcon&&!e.inactiveText?(0,l.Q3)("v-if",!0):((0,l.uX)(),(0,l.CE)("span",{key:0,class:(0,s.C4)((0,o.R1)(R))},[e.inactiveIcon?((0,l.uX)(),(0,l.Wv)((0,o.R1)(b.tk),{key:0},{default:(0,l.k6)((()=>[((0,l.uX)(),(0,l.Wv)((0,l.$y)(e.inactiveIcon)))])),_:1})):(0,l.Q3)("v-if",!0),!e.inactiveIcon&&e.inactiveText?((0,l.uX)(),(0,l.CE)("span",{key:1,"aria-hidden":(0,o.R1)(A)},(0,s.v_)(e.inactiveText),9,["aria-hidden"])):(0,l.Q3)("v-if",!0)],2)),(0,l.Lk)("span",{ref_key:"core",ref:h,class:(0,s.C4)((0,o.R1)(v).e("core")),style:(0,s.Tr)((0,o.R1)(k))},[e.inlinePrompt?((0,l.uX)(),(0,l.CE)("div",{key:0,class:(0,s.C4)((0,o.R1)(v).e("inner"))},[e.activeIcon||e.inactiveIcon?((0,l.uX)(),(0,l.Wv)((0,o.R1)(b.tk),{key:0,class:(0,s.C4)((0,o.R1)(v).is("icon"))},{default:(0,l.k6)((()=>[((0,l.uX)(),(0,l.Wv)((0,l.$y)((0,o.R1)(A)?e.activeIcon:e.inactiveIcon)))])),_:1},8,["class"])):e.activeText||e.inactiveText?((0,l.uX)(),(0,l.CE)("span",{key:1,class:(0,s.C4)((0,o.R1)(v).is("text")),"aria-hidden":!(0,o.R1)(A)},(0,s.v_)((0,o.R1)(A)?e.activeText:e.inactiveText),11,["aria-hidden"])):(0,l.Q3)("v-if",!0)],2)):(0,l.Q3)("v-if",!0),(0,l.Lk)("div",{class:(0,s.C4)((0,o.R1)(v).e("action"))},[e.loading?((0,l.uX)(),(0,l.Wv)((0,o.R1)(b.tk),{key:0,class:(0,s.C4)((0,o.R1)(v).is("loading"))},{default:(0,l.k6)((()=>[(0,l.bF)((0,o.R1)(i.Loading))])),_:1},8,["class"])):(0,o.R1)(A)?(0,l.RG)(e.$slots,"active-action",{key:1},(()=>[e.activeActionIcon?((0,l.uX)(),(0,l.Wv)((0,o.R1)(b.tk),{key:0},{default:(0,l.k6)((()=>[((0,l.uX)(),(0,l.Wv)((0,l.$y)(e.activeActionIcon)))])),_:1})):(0,l.Q3)("v-if",!0)])):(0,o.R1)(A)?(0,l.Q3)("v-if",!0):(0,l.RG)(e.$slots,"inactive-action",{key:2},(()=>[e.inactiveActionIcon?((0,l.uX)(),(0,l.Wv)((0,o.R1)(b.tk),{key:0},{default:(0,l.k6)((()=>[((0,l.uX)(),(0,l.Wv)((0,l.$y)(e.inactiveActionIcon)))])),_:1})):(0,l.Q3)("v-if",!0)]))],2)],6),e.inlinePrompt||!e.activeIcon&&!e.activeText?(0,l.Q3)("v-if",!0):((0,l.uX)(),(0,l.CE)("span",{key:1,class:(0,s.C4)((0,o.R1)(C))},[e.activeIcon?((0,l.uX)(),(0,l.Wv)((0,o.R1)(b.tk),{key:0},{default:(0,l.k6)((()=>[((0,l.uX)(),(0,l.Wv)((0,l.$y)(e.activeIcon)))])),_:1})):(0,l.Q3)("v-if",!0),!e.activeIcon&&e.activeText?((0,l.uX)(),(0,l.CE)("span",{key:1,"aria-hidden":!(0,o.R1)(A)},(0,s.v_)(e.activeText),9,["aria-hidden"])):(0,l.Q3)("v-if",!0)],2))],10,["onClick"]))}});var se=(0,L.A)(ne,[["__file","switch.vue"]]);const ie=(0,Q.GU)(se);var re=a(5367);const ue=()=>(0,re.A)({method:"get",url:"/data/tissueJson.json.gz",responseType:"arraybuffer"}),de=()=>(0,re.A)({method:"get",url:"/data/cellJson.json.gz",responseType:"arraybuffer"});var ce=a(3075),ve=a(6744),pe=a(5220);const fe=e=>({trigger:"item",axisPointer:{type:"shadow"},textStyle:{},formatter:function(t){return["<div style='margin-bottom:5px;width:100%;border-radius:3px;text-align:center;family'><p>"+t.data[0]+" </p></div>",'<hr size=1 style="margin: 3px 0">',"<span style='text-align:left;color:#8f9a7a;margin-right:15px;'>Max:</span>"+parseFloat(t.data[5]).toFixed(2)+"<br/>","<span style='text-align:left;color:#8f9a7a;margin-right:15px;'>Q3:</span>"+parseFloat(t.data[4]).toFixed(2)+"<br/>","<span style='text-align:left;color:#8f9a7a;margin-right:15px;'>Median:</span>"+parseFloat(t.data[3]).toFixed(2)+"<br/>","<span style='text-align:left;color:#8f9a7a;margin-right:15px;'>Q1:</span>"+parseFloat(t.data[2]).toFixed(2)+"<br/>","<span style='text-align:left;color:#8f9a7a;margin-right:15px;'>Min:</span>"+parseFloat(t.data[1]).toFixed(2)+"<br/>","<span style='text-align:left;color:#8f9a7a;margin-right:15px;'>Samples:</span>"+(Array.isArray(e[0])?e[t.componentIndex][t.dataIndex]:e[t.dataIndex])+"<br/>"].join("")}}),me={title:[],dataset:[],tooltip:{},legend:{show:!0,orient:"vertical",right:10,top:60,data:[]},grid:{left:"10%",right:"10%",bottom:60},yAxis:{type:"category",boundaryGap:!0,nameGap:30,splitArea:{show:!1},splitLine:{show:!1}},xAxis:{type:"value",name:"iBAQLog",nameLocation:"center",nameGap:40,splitArea:{show:!1},splitLine:{show:!1},min:1},toolbox:{feature:{saveAsImage:{type:"png",title:"save as .png",pixelRatio:10}}},series:[]},ye={class:"ae-visualization"},he={class:"visualization-header"},ge={class:"organism-info"},be={class:"visualization-controls"},Re={class:"protein-tags"},Ce={class:"history-section"},ke={class:"history-content"},xe={class:"history-item-title"},we={class:"visualization-card"},Ee={__name:"index",emits:["changeLoading"],setup(e,{emit:t}){const a=(0,pe.rd)(),i=(0,o.KR)(!1),r=t;let u=500,d=[];const c=(0,o.KR)(!1),v=(0,o.KR)(!1),p=(0,o.KR)(!1),f=(0,o.KR)([]),m=(0,o.KR)(""),y=(0,o.KR)([]),h=(0,o.KR)([]),g=(0,o.KR)([]),b=(0,l.EW)((()=>g.value.map((e=>e.split("(")[0])))),R=["#8DD3C7","#EDBC63","#BEBADA","#FB8072","#80B1D3"],C=(0,o.KR)(),k=(0,o.KR)([]);let x;const w=["heart","stomach","blood plasma","brain","kidney","liver","lung","pancreas","spleen","adrenal gland","testis","ovary","prostate","colon","esophagus","placenta"];y.value=Array.isArray(a.currentRoute.value.query.protein)?a.currentRoute.value.query.protein:[a.currentRoute.value.query.protein],m.value=a.currentRoute.value.name;const E=async()=>{r("changeLoading");const e="tissues"===m.value?await ue():await de(),t=new Uint8Array(e.data),a=(0,ce.UD)(t,{to:"string"});d=JSON.parse(a),r("changeLoading"),F(y)},A=e=>{f.value.splice(g.value.indexOf(e),1),g.value.splice(g.value.indexOf(e),1),"tissues"===m.value?a.push({path:"/baseline/tissues",query:{protein:b.value}}):a.push({path:"/baseline/cellline",query:{protein:b.value}})},F=e=>{if("undefined"===typeof e.value[0])return p.value=!1,void(x&&x.dispose());let t=d;e.value.map((e=>{const a=t.find((t=>t.name===e.trim()||t.gene_name===e.trim()));if(!a)return void alert("Please enter a legal protein name");let l=`${a.name}(${a.gene_name})`;g.value.includes(l.trim())||(5===g.value.length?(g.value.shift(),g.value.push(l),f.value.shift(),f.value.push(a)):(g.value.push(l),f.value.push(a)))})),g.value.length!=e.value.length?"tissues"===m.value?a.push({path:"/baseline/tissues",query:{protein:b.value}}):a.push({path:"/baseline/cellline",query:{protein:b.value}}):(p.value=!0,u=f.value.length>1?400*f.value.length:500,(0,l.dY)((()=>{L()})))};(0,pe.V6)((e=>{y.value=e.query.protein,F(y)})),(0,l.sV)((()=>{E()}));const I=e=>{"tissues"===m.value&&e.tags.length<18&&w.map((t=>{e.tags.includes(t)||(e.tags.push(t),e.data.push([]))}));let t=[];for(let o=0;o<e.tags.length;o++){let a={};a["name"]=e.tags[o],a["data"]=e.data[o].filter((e=>e>=1)),t.push(a)}"tissues"!==m.value&&(t.sort(((e,t)=>{const a=e.data.length,l=t.data.length;return l-a})),t=t.slice(0,20)),t.sort(((e,t)=>{const a=e.data.length>0?e.data.reduce(((e,t)=>e+t))/e.data.length:0,l=e.data.length>0?t.data.reduce(((e,t)=>e+t))/t.data.length:0;return a-l}));let a=[],l=[];return t.map((e=>{a.push(e.data),l.push(e.name)})),{neatData:a,tags:l}},L=()=>{if(1===f.value.length){me.dataset=[],me.series=[],me.title=[],me.legend.show=!1;let{neatData:e,tags:t}=I(f.value[0]);h.value=t,me.title.push({text:f.value[0].title,left:"center"});let{samples:a,data:l}=_(e,2);c.value?(me.series.push({name:g.value[0],type:"bar",data:l,itemStyle:{color:R[0],color0:"#FA0000",borderColor:"#030609",borderColor0:"#030609"},label:{show:v.value,position:"right",formatter:function(){return`samples: ${a.shift()}`}}}),me.tooltip={trigger:"axis",axisPointer:{type:"shadow"}},me.yAxis.data=h.value):(me.dataset.push({source:e}),me.dataset.push({fromDatasetIndex:0,transform:{type:"boxplot",config:{itemNameFormatter:function(e){return t[e.value]}}}}),me.series.push({name:"category0",type:"boxplot",datasetIndex:1,itemStyle:{color:R[0],color0:"#FA0000",borderColor:"#030609",borderColor0:"#030609"}}),me.tooltip=fe(a))}else{m.value,h.value=0===h.value.length?I(f.value[0]).tags:h.value,0===f.value.length?me.title=[]:me.title.splice(0,1,{text:`Comparison of protein expression in different ${m.value}`,left:"center"}),0===f.value.length?me.legend.show=!1:me.legend.show=!0;let e=[];f.value.map((t=>{let a=[];h.value.forEach((e=>{if(t.tags.includes(e)){let l=t.tags.indexOf(e),o=t.data[l].filter((e=>e>=1));a.push(o)}else a.push([])})),e.push(a)}));let{samples:t,data:a}=_(e,3);c.value?(e=a,me.dataset=[],me.series=[],me.legend.data=[],e.forEach(((e,a)=>{me.series.push({name:g.value[a],type:"bar",data:e,itemStyle:{color:R[a],color0:"#FA0000",borderColor:"#030609",borderColor0:"#030609"},label:{show:v.value,position:"right",formatter:function(){return`samples: ${t[a].shift()}`}}}),me.legend.data.push({name:g.value[a],itemStyle:{color:R[a],borderColor:R[a]}})})),me.tooltip={trigger:"axis",axisPointer:{type:"shadow"}},me.yAxis.data=h.value):(me.dataset=[],me.series=[],me.legend.data=[],e.forEach(((t,a)=>{me.dataset.push({source:t}),me.series.push({name:g.value[a],type:"boxplot",datasetIndex:e.length+a,itemStyle:{color:R[a],color0:"#FA0000",borderColor:"#030609",borderColor0:"#030609"}}),me.legend.data.push({name:g.value[a],itemStyle:{color:R[a],borderColor:R[a]}})})),e.forEach(((e,t)=>{me.dataset.push({fromDatasetIndex:t,transform:{type:"boxplot",config:{itemNameFormatter:function(e){return h.value[e.value]}}}})})),me.tooltip=fe(t))}null!=x&&""!==x&&void 0!==x&&x.dispose(),x=ve.Ts(C.value,"macarons"),x.clear(),x.resize({height:u}),x.setOption(me),(0,l.dY)((()=>{if(0!==y.value.length){let e=x.getDataURL({type:"svg",pixelRatio:2,backgroundColor:"#fff",excludeComponents:["toolbox"]}),t={proteinName:y.value,url:e};k.value.unshift(t)}}))},_=(e,t)=>{if(2===t){let t=e.map((e=>e.length));return e=e.map((e=>e.length>0?Number((e.reduce(((e,t)=>e+t))/e.length).toFixed(2)):0)),{samples:t,data:e}}{let t=e.map((e=>e.map((e=>e.length))));return e=e.map((e=>e.map((e=>e.length>0?Number((e.reduce(((e,t)=>e+t))/e.length).toFixed(2)):0)))),{samples:t,data:e}}},S=()=>{L()},B=()=>{L()};return(e,t)=>{const a=ie,r=Y.u,d=P.$g,f=G.Zq,m=U;return(0,l.bo)(((0,l.uX)(),(0,l.CE)("div",ye,[(0,l.Lk)("div",he,[(0,l.Lk)("div",ge,[t[4]||(t[4]=(0,l.Lk)("h1",{class:"organism-title"},[(0,l.eW)("Organism: "),(0,l.Lk)("span",{class:"organism-name"},"Homo sapiens")],-1)),(0,l.Lk)("div",be,[(0,l.bF)(a,{modelValue:c.value,"onUpdate:modelValue":t[0]||(t[0]=e=>c.value=e),class:"visualization-switch","inline-prompt":"","active-text":"Bar","inactive-text":"Box",onChange:S},null,8,["modelValue"]),(0,l.bo)((0,l.bF)(a,{modelValue:v.value,"onUpdate:modelValue":t[1]||(t[1]=e=>v.value=e),class:"visualization-switch label-switch","inline-prompt":"","active-text":"Show label","inactive-text":"Off label",onChange:B},null,8,["modelValue"]),[[n.aG,c.value]])])]),(0,l.Lk)("div",Re,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(g.value,((e,t)=>((0,l.uX)(),(0,l.Wv)(r,{key:t,round:"",closable:"",color:R[t],onClose:t=>A(e),class:"protein-tag"},{default:(0,l.k6)((()=>[(0,l.eW)((0,s.v_)(e),1)])),_:2},1032,["color","onClose"])))),128))]),(0,l.Lk)("div",Ce,[(0,l.bF)(d,{class:"history-button",type:"info",onClick:t[2]||(t[2]=e=>i.value=!0)},{default:(0,l.k6)((()=>t[5]||(t[5]=[(0,l.eW)(" History ")]))),_:1,__:[5]}),(0,l.bF)(m,{modelValue:i.value,"onUpdate:modelValue":t[3]||(t[3]=e=>i.value=e),title:"Visualization History",size:"50%"},{default:(0,l.k6)((()=>[(0,l.Lk)("div",ke,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(k.value,((e,t)=>((0,l.uX)(),(0,l.CE)("div",{key:t,class:"history-item"},[(0,l.Lk)("h5",xe,(0,s.v_)(e.proteinName.join(", ")),1),(0,l.bF)(f,{class:"history-image",src:e.url,fit:"contain","preview-src-list":[e.url]},null,8,["src","preview-src-list"])])))),128))])])),_:1},8,["modelValue"])])]),(0,l.Lk)("div",we,[(0,l.Lk)("div",{ref_key:"chart",ref:C,class:"chart-container",style:(0,s.Tr)({height:(0,o.R1)(u)+"px"})},null,4)])],512)),[[n.aG,p.value]])}}};var Ae=a(6262);const Fe=(0,Ae.A)(Ee,[["__scopeId","data-v-8e125472"]]),Ie=Fe}}]);
//# sourceMappingURL=249.60408a69.js.map